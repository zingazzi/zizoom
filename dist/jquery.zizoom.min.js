!function(o){o.fn.zizoom=function(i){function s(s){s.css("position","relative").css("overflow","hidden");var t=s.data(i.dataElement),e=o('<img src="'+t+'">');return s.append(e),e.css("position","absolute").css("display","none"),e}function t(o,i){w=o.width(),h=o.height(),i.width(w),i.height(h)}function e(o){o.css("display","block").css("z-index",10)}function n(o){o.css("display","none").css("z-index",0)}function c(o,i,s,t){w=o.width(),h=o.height();var e=o.offset();offsetTop=e.top,offsetLeft=e.left,imgBigW=i.width()-w,imgBigH=i.height()-h,imgBigXPos=s*imgBigW/w*-1+offsetLeft,imgBigYPos=t*imgBigH/h*-1+offsetTop,i.css("left",imgBigXPos).css("top",imgBigYPos)}function g(s){var t=o('<span class="'+i.zoomicon+'"></span>');return w=s.width(),h=s.height(),s.append(t),t.css("position","absolute").css("display","none").css("color",i.zoomcolor).css("left",w/2+t.width()/2*-1+"px").css("top",h/2+t.height()/2*-1+"px"),t}return i=o.extend({activate:"hover",dataElement:"zoom",zoomicon:"fa fa-search",zoomcolor:"#fff"},i),this.each(function(){var f=o(this),m=f.children("img");$imgBig=s(f),t(m,f),"hover"==i.activate&&(f.mouseover(function(){e($imgBig),f.mousemove(function(o){xpos=o.pageX,ypos=o.pageY,c(f,$imgBig,xpos,ypos)})}),f.mouseout(function(){n($imgBig)})),"click"==i.activate&&($zoomicon=g(f),f.css("cursor","pointer"),f.on("click hover",function(i){e($imgBig),f.mousemove(function(o){xpos=o.pageX,ypos=o.pageY,c(f,$imgBig,xpos,ypos)}),o(document).mousemove(function(){0==f.is(":hover")&&n($imgBig)})}),f.mouseover(function(){$zoomicon.show()}).mouseout(function(){$zoomicon.hide()}))}),this}}(jQuery);